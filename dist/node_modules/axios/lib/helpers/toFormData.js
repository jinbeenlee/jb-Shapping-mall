import'../../../core-js/modules/es.array.index-of.js';import utils from'../utils.js';import'../../../core-js/modules/es.string.ends-with.js';import _ref from'../../../buffer.js';const _ref2={exports:{}};(function(module,exports){function toFormData(obj,formData){function convertValue(value){return null===value?"":utils.isDate(value)?value.toISOString():utils.isArrayBuffer(value)||utils.isTypedArray(value)?"function"==typeof Blob?new Blob([value]):Buffer.from(value):value}function build(data,parentKey){if(utils.isPlainObject(data)||utils.isArray(data)){if(-1!==stack.indexOf(data))throw Error("Circular reference detected in "+parentKey);stack.push(data),utils.forEach(data,function each(value,key){if(!utils.isUndefined(value)){var arr,fullKey=parentKey?parentKey+"."+key:key;if(value&&!parentKey&&"object"==typeof value)if(utils.endsWith(key,"{}"))value=JSON.stringify(value);else if(utils.endsWith(key,"[]")&&(arr=utils.toArray(value)))return void arr.forEach(function(el){utils.isUndefined(el)||formData.append(fullKey,convertValue(el));});build(value,fullKey);}}),stack.pop();}else formData.append(parentKey,convertValue(data));}formData=formData||new FormData;var stack=[];return build(obj),formData}const Buffer=_ref;module.exports=toFormData;})(_ref2);var _ref6 = _ref2.exports;export default _ref6;