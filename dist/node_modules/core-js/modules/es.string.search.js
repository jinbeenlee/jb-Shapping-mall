import requireObjectCoercible from'../internals/require-object-coercible.js';import anObject from'../internals/an-object.js';import fixRegExpWellKnownSymbolLogic from'../internals/fix-regexp-well-known-symbol-logic.js';import regExpExec from'../internals/regexp-exec-abstract.js';import sameValue from'../internals/same-value.js';fixRegExpWellKnownSymbolLogic("search",1,function(SEARCH,nativeSearch,maybeCallNative){return [function search(regexp){var O=requireObjectCoercible(this),searcher=regexp==null?void 0:regexp[SEARCH];return searcher===void 0?new RegExp(regexp)[SEARCH](String(O)):searcher.call(regexp,O)},function(regexp){var res=maybeCallNative(nativeSearch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),previousLastIndex=rx.lastIndex;sameValue(previousLastIndex,0)||(rx.lastIndex=0);var result=regExpExec(rx,S);return sameValue(rx.lastIndex,previousLastIndex)||(rx.lastIndex=previousLastIndex),null===result?-1:result.index}]});