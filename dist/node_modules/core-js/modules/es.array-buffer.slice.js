import fails from'../internals/fails.js';import anObject from'../internals/an-object.js';import toLength from'../internals/to-length.js';import toAbsoluteIndex from'../internals/to-absolute-index.js';import $ from'../internals/export.js';import speciesConstructor from'../internals/species-constructor.js';import ArrayBufferModule from'../internals/array-buffer.js';var ArrayBuffer=ArrayBufferModule.ArrayBuffer,DataView=ArrayBufferModule.DataView,nativeArrayBufferSlice=ArrayBuffer.prototype.slice,INCORRECT_SLICE=fails(function(){return !new ArrayBuffer(2).slice(1,void 0).byteLength});$({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function slice(start,end){if(nativeArrayBufferSlice!==void 0&&end===void 0)return nativeArrayBufferSlice.call(anObject(this),start);for(var length=anObject(this).byteLength,first=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length),result=new(speciesConstructor(this,ArrayBuffer))(toLength(fin-first)),viewSource=new DataView(this),viewTarget=new DataView(result),index=0;first<fin;)viewTarget.setUint8(index++,viewSource.getUint8(first++));return result}});